{"ast":null,"code":"import _slicedToArray from \"/home/alaya/workspace/lab/reactjs-chat/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/alaya/workspace/lab/reactjs-chat/src/components/auth/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login } from '../../actions/authActions';\nimport Spinner from '../layout/Spinner';\n\nconst Login = props => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState({\n    show: false,\n    message: ''\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        error = _useState8[0],\n        setError = _useState8[1];\n\n  useEffect(() => {\n    const auth = props.auth;\n\n    if (auth.code) {\n      setError({\n        show: true,\n        message: auth.code\n      });\n      return;\n    }\n\n    if (auth.user) {\n      props.history.push('/home');\n    }\n  }, [props.auth]);\n\n  const login = async e => {\n    e.preventDefault();\n    setLoading(true);\n    await props.login({\n      email,\n      password\n    });\n    setLoading(false);\n  };\n\n  const errorLogin = React.createElement(\"div\", {\n    className: \"row alert alert-warning\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, error.message));\n\n  if (loading) {\n    return React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xl-10 col-lg-12 col-md-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card o-hidden border-0 shadow-lg my-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body p-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-6 d-none d-lg-block bg-login-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"p-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"h4 text-gray-900 mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Welcome Back!\")), React.createElement(\"form\", {\n    onSubmit: login,\n    className: \"user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"email\",\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    required: true,\n    type: \"email\",\n    className: \"form-control form-control-user\",\n    id: \"exampleInputEmail\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Enter Email Address...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"password\",\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    required: true,\n    type: \"password\",\n    className: \"form-control form-control-user\",\n    id: \"exampleInputPassword\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"custom-control custom-checkbox small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"custom-control-input\",\n    id: \"customCheck\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"customCheck\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Remember Me\"))), error.show ? errorLogin : null, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-user btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"a\", {\n    href: \"index.html\",\n    className: \"btn btn-google btn-user btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fab fa-google fa-fw\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), \" Login with Google\"), React.createElement(\"a\", {\n    href: \"index.html\",\n    className: \"btn btn-facebook btn-user btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fab fa-facebook-f fa-fw\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), \" Login with Facebook\")), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"small\",\n    href: \"forgot-password.html\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Forgot Password?\")), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/register\",\n    className: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Create an Account!\")))))))));\n};\n\nconst mapStateToProps = state => ({\n  auth: state.authReducer.auth\n});\n\nexport default connect(mapStateToProps, {\n  login\n})(Login);","map":{"version":3,"sources":["/home/alaya/workspace/lab/reactjs-chat/src/components/auth/Login.js"],"names":["React","useState","useEffect","Link","connect","login","Spinner","Login","props","email","setEmail","password","setPassword","loading","setLoading","show","message","error","setError","auth","code","user","history","push","e","preventDefault","errorLogin","target","value","mapStateToProps","state","authReducer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login } from '../../actions/authActions';\nimport Spinner from '../layout/Spinner';\n\n  const Login = (props) => {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading ] = useState(false);\n  const [ error, setError ] = useState({ show: false, message: '' });\n\n  useEffect( () => {\n    const { auth } = props;\n    if(auth.code){\n      setError({\n        show:true,\n        message: auth.code\n      });\n      return;\n    }\n    if( auth.user ){\n      props.history.push('/home');\n    }\n  },[props.auth]);\n\n  const login = async (e) => {\n    e.preventDefault();\n    setLoading(true);    \n    await props.login({email, password});\n    setLoading(false);\n\n  };\n\n  \n  \n  const errorLogin = (\n    <div className=\"row alert alert-warning\">   \n      <small>\n        { error.message }\n      </small>\n    </div>\n  );\n\n  if(loading){\n    return <Spinner/>\n  }\n\n   return(\n    <div className=\"row justify-content-center\">\n      <div className=\"col-xl-10 col-lg-12 col-md-9\">\n        <div className=\"card o-hidden border-0 shadow-lg my-5\">\n          <div className=\"card-body p-0\">            \n            <div className=\"row\">\n              <div className=\"col-lg-6 d-none d-lg-block bg-login-image\"></div>\n              <div className=\"col-lg-6\">\n                <div className=\"p-5\">\n                  <div className=\"text-center\">\n                    <h1 className=\"h4 text-gray-900 mb-4\">Welcome Back!</h1>\n                  </div>\n                  <form onSubmit={ login }\n                        className=\"user\">\n                    <div className=\"form-group\">\n                      <input  name=\"email\"\n                              onChange={(e)=>{ setEmail(e.target.value)} } required\n                              type=\"email\" className=\"form-control form-control-user\" \n                              id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" \n                              placeholder=\"Enter Email Address...\"/>\n                    </div>\n                    <div className=\"form-group\">\n                      <input  name=\"password\"\n                              onChange={ (e)=>{ setPassword(e.target.value) } }\n                              required\n                              type=\"password\" className=\"form-control form-control-user\" \n                              id=\"exampleInputPassword\" placeholder=\"Password\"/>\n                    </div>\n                    <div className=\"form-group\">\n                      <div className=\"custom-control custom-checkbox small\">\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck\"/>\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck\">Remember Me</label>\n                      </div>\n                    </div>\n                    {error.show ? errorLogin: null}\n                    <button type=\"submit\" \n                            className=\"btn btn-primary btn-user btn-block\">\n                      Login\n                    </button>\n                    <hr/>\n                    <a href=\"index.html\" className=\"btn btn-google btn-user btn-block\">\n                      <i className=\"fab fa-google fa-fw\"></i> Login with Google\n                    </a>\n                    <a href=\"index.html\" className=\"btn btn-facebook btn-user btn-block\">\n                      <i className=\"fab fa-facebook-f fa-fw\"></i> Login with Facebook\n                    </a>\n                  </form>\n                  <hr/>\n                  <div className=\"text-center\">\n                    <a className=\"small\" href=\"forgot-password.html\">Forgot Password?</a>\n                  </div>\n                  <div className=\"text-center\">\n                    <Link to='/register' className=\"small\" >Create an Account!</Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div> \n      </div>\n    </div> \n   )\n   \n }\n\nconst mapStateToProps = (state) => ({\n  auth: state.authReducer.auth\n});\n\n export default connect( mapStateToProps, {login} ) ( Login) ;"]},"metadata":{},"sourceType":"module"}