{"ast":null,"code":"import _defineProperty from \"/home/alaya/workspace/lab/reactjs-chat/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/alaya/workspace/lab/reactjs-chat/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/alaya/workspace/lab/reactjs-chat/src/components/admin/CreateRoom.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, Fragment } from 'react';\nimport firebase from '../db/firestore';\nimport ListRooms from './ListRooms';\n\nconst CreateRoom = () => {\n  const db = firebase.firestore();\n\n  const _useState = useState({\n    sw: false,\n    text: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        msj = _useState2[0],\n        setMsj = _useState2[1];\n\n  const _useState3 = useState({\n    name: '',\n    description: '',\n    img: '',\n    private: false,\n    password: '',\n    userId: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        room = _useState4[0],\n        setRoom = _useState4[1];\n\n  const handlerCheck = e => {\n    setRoom(_objectSpread({}, room, {\n      [e.target.name]: e.target.checked\n    }));\n  };\n\n  const handlerChange = e => {\n    setRoom(_objectSpread({}, room, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const saveRoomn = async function (e) {\n    e.preventDefault();\n    const ref = db.collection('rooms');\n\n    let _ref = await ref.add(_objectSpread({}, room, {\n      createdAt: Date.now()\n    })),\n        id = _ref.id;\n\n    if (id) {\n      setRoom({\n        name: '',\n        description: '',\n        img: ''\n      });\n      setMsj({\n        sw: true,\n        text: 'La sala ha sido creada exitosamente'\n      });\n      setTimeout(() => {\n        setMsj({\n          sw: false,\n          text: ''\n        });\n      }, 3000);\n    } else {\n      console.log('Ha ocurrido un error');\n    }\n  };\n\n  const password = room.private ? React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-light\",\n    forHtml: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: handlerChange,\n    className: \"form-control\",\n    id: \"password\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-light\",\n    forHtml: \"passwordVerify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Repita el Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"passwordVerify\",\n    onChange: handlerChange,\n    className: \"form-control\",\n    id: \"passwordVerify\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }))) : null;\n  return React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"text-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Creaci\\xF3n de nueva sala de Chat\"), msj.sw ? React.createElement(\"div\", {\n    className: \"alert-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, msj.text) : null, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-light\",\n    forHtml: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Nombre\"), React.createElement(\"input\", {\n    value: room.name,\n    onChange: handlerChange,\n    type: \"text\",\n    name: \"name\",\n    className: \"form-control\",\n    id: \"name\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Ej. Club literario \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-light\",\n    forHtml: \"description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Descripci\\xF3n\"), React.createElement(\"input\", {\n    value: room.description,\n    onChange: handlerChange,\n    type: \"text\",\n    name: \"description\",\n    className: \"form-control\",\n    id: \"description\",\n    placeholder: \"Ej. Discusi\\xF3n de los grandes clasicos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-light\",\n    forHtml: \"img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Url de la imagen\"), React.createElement(\"input\", {\n    value: room.img,\n    onChange: handlerChange,\n    type: \"text\",\n    name: \"img\",\n    className: \"form-control\",\n    id: \"img\",\n    placeholder: \"https://www.algunaimagen.com/cortazar.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group form-check\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: handlerCheck,\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    id: \"private\",\n    name: \"private\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"text-light form-check-label\",\n    forHtml: \"private\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"\\xBFChat privado? \", room.private, \" \")), password, React.createElement(\"button\", {\n    onClick: saveRoomn,\n    type: \"submit\",\n    className: \"btn btn-primary my-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Crear\")), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })));\n};\n\nexport default CreateRoom;","map":{"version":3,"sources":["/home/alaya/workspace/lab/reactjs-chat/src/components/admin/CreateRoom.js"],"names":["React","useState","useEffect","Fragment","firebase","ListRooms","CreateRoom","db","firestore","sw","text","msj","setMsj","name","description","img","private","password","userId","room","setRoom","handlerCheck","e","target","checked","handlerChange","value","saveRoomn","preventDefault","ref","collection","add","createdAt","Date","now","id","setTimeout","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, Fragment } from 'react';\nimport firebase from '../db/firestore';\nimport ListRooms from './ListRooms';\n\n\nconst CreateRoom  = () => {\n\n  const db = firebase.firestore();\n\n  const [msj, setMsj ] = useState({\n    sw: false,\n    text: ''\n  }); \n\n  const [room, setRoom] = useState({\n              name: '',\n              description: '',\n              img:'',\n              private: false,\n              password: '',\n              userId: ''\n            });\n\n  const handlerCheck = (e)  => {\n    setRoom({\n      ...room,\n      [e.target.name]: e.target.checked\n    });\n  }\n\n\n  const handlerChange = (e) => {\n    setRoom({\n      ...room,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  const saveRoomn = async function(e){\n\n    e.preventDefault();\n\n    const ref = db.collection('rooms');\n    let {id}  = await ref.add({\n      ...room,\n      createdAt: Date.now() \n    });\n\n    if( id ) {\n\n      setRoom({\n        name: '',\n        description: '',\n        img:''\n      });\n\n      setMsj({\n        sw: true,\n        text: 'La sala ha sido creada exitosamente'\n      });\n\n      setTimeout(()=>{\n        setMsj({\n          sw: false,\n          text: ''\n        });\n      }, 3000);  \n\n    } else {\n\n      console.log('Ha ocurrido un error');\n    }\n    \n  } \n\n\n  const password = room.private ? (  \n    <Fragment>\n      <div className=\"form-group\">\n        <label className=\"text-light\" forHtml=\"password\">Password</label>\n        <input type=\"password\" name=\"password\" onChange={ handlerChange } className=\"form-control\" id=\"password\" placeholder=\"Password\"/>\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-light\" forHtml=\"passwordVerify\">Repita el Password</label>\n        <input type=\"password\" name=\"passwordVerify\" onChange={ handlerChange } className=\"form-control\" id=\"passwordVerify\" placeholder=\"Password\"/>\n      </div>\n    </Fragment>\n  ): null;\n\n  return (\n    <div className= \"row justify-content-center\">\n      <div className = \"col-md-8\">  \n        <h3 className=\"text-light\">Creación de nueva sala de Chat</h3>\n        { msj.sw ? \n          <div className=\"alert-success\">{msj.text}</div>\n          : null\n        }\n\n        <form>\n          <div className=\"form-group\">\n            <label className=\"text-light\" forHtml=\"name\">Nombre</label>\n            <input value={room.name} onChange={handlerChange} type=\"text\" name=\"name\"  className=\"form-control\" id=\"name\" aria-describedby=\"emailHelp\" placeholder=\"Ej. Club literario \"/>            \n          </div>\n          <div className=\"form-group\">\n            <label className=\"text-light\" forHtml=\"description\">Descripción</label>\n            <input value={room.description} onChange={handlerChange} type=\"text\"  name=\"description\" className=\"form-control\" id=\"description\" placeholder=\"Ej. Discusión de los grandes clasicos\"/>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"text-light\" forHtml=\"img\">Url de la imagen</label>\n            <input value={room.img} onChange={handlerChange} type=\"text\" name=\"img\"  className=\"form-control\" id=\"img\" placeholder=\"https://www.algunaimagen.com/cortazar.png\"/>\n          </div>\n            \n          <div className=\"form-group form-check\">\n            <input onChange={ handlerCheck } type=\"checkbox\" className=\"form-check-input\" id=\"private\" name=\"private\" />\n            <label className=\"text-light form-check-label\" forHtml=\"private\">¿Chat privado? {room.private} </label>\n          </div>\n\n          {password}\n\n          <button onClick = { saveRoomn } type=\"submit\" className=\"btn btn-primary my-3\">Crear</button>\n        </form>\n        <hr/>     \n      </div>\n    </div>\n\n  );\n\n} \n\n\nexport default CreateRoom;"]},"metadata":{},"sourceType":"module"}